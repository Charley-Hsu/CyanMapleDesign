{"dependencies":[{"name":"vueify/lib/insert-css","loc":{"line":1,"column":39}},{"name":"./scroller","loc":{"line":9,"column":24}},{"name":"./chain","loc":{"line":13,"column":21}},{"name":"../../vm.js","loc":{"line":17,"column":18}},{"name":"vue-hot-reload-api","loc":{"line":193,"column":54}},{"name":"vue","loc":{"line":194,"column":25}}],"generated":{"js":"\"use strict\";\n\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"@import './scroller.css';\");(function () {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _scroller = require('./scroller');\n\n  var _scroller2 = _interopRequireDefault(_scroller);\n\n  var _chain = require('./chain');\n\n  var _chain2 = _interopRequireDefault(_chain);\n\n  var _vm = require('../../vm.js');\n\n  var _vm2 = _interopRequireDefault(_vm);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n  }\n\n  exports.default = {\n    created: function created() {\n      if (this.col !== 0) {\n        var length = this.col;\n        this.store = new _chain2.default(this.data, length);\n        this.data = this.store.getColumns(this.value);\n      }\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.render(_this2.data, _this2.value);\n      });\n    },\n\n    props: {\n      data: {\n        type: Array\n      },\n      col: {\n        type: Number,\n        default: 0\n      },\n      value: {\n        type: Array,\n        twoWay: true\n      },\n      itemClass: {\n        type: String,\n        default: 'scroller-item'\n      },\n      target: {\n        type: Object\n      }\n    },\n    methods: {\n      getId: function getId(i) {\n        return '#cmui-picker-' + this.uuid + '-' + i;\n      },\n      render: function render(data, value) {\n        this.count = this.data.length;\n        var _this = this;\n        if (!data || !data.length) {\n          return;\n        }\n        var count = this.data.length;\n\n        if (value.length < count) {\n          for (var i = 0; i < count; i++) {\n            Vue.set(_this.value[i], data[i][0].value || data[i][0]);\n          }\n        }\n\n        var _loop = function _loop(_i) {\n          _this.scroller[_i] && _this.scroller[_i].destroy();\n          _this.scroller[_i] = new _scroller2.default(_this.getId(_i), {\n            data: data[_i],\n            defaultValue: value[_i] || data[_i][0].value,\n            itemClass: _this.item_class,\n            onSelect: function onSelect(value) {\n              Vue.set(_this.value[_i], value);\n              _vm2.default.$emit('on-change', _this.getValue());\n              if (_this.col !== 0) {\n                _this.renderChain(_i + 1);\n              }\n            }\n          });\n          if (_this.value) {\n            _this.scroller[_i].select(value[_i]);\n          }\n        };\n\n        for (var _i = 0; _i < data.length; _i++) {\n          _loop(_i);\n        }\n      },\n      renderChain: function renderChain(i) {\n        if (this.col === 0) {\n          return;\n        }\n\n        if (i > this.count - 1) {\n          return;\n        }\n\n        var _this = this;\n        var ID = this.getId(i);\n\n        this.scroller[i].destroy();\n        var list = this.store.getChildren(_this.getValue()[i - 1]);\n        this.scroller[i] = new _scroller2.default(ID, {\n          data: list,\n          itemClass: _this.item_class,\n          onSelect: function onSelect(value) {\n            Vue.set(_this.value[i], value);\n            _vm2.default.$emit('on-change', _this.getValue());\n            _this.renderChain(i + 1);\n          }\n        });\n\n        Vue.set(this.value[i], list[0].value);\n        this.renderChain(i + 1);\n      },\n      getValue: function getValue() {\n        var data = [];\n        for (var i = 0; i < this.data.length; i++) {\n          data.push(this.scroller[i].value);\n        }\n        return data;\n      }\n    },\n    data: function data() {\n      return {\n        scroller: [],\n        count: 0,\n        uuid: Math.random().toString(36).substring(3, 8)\n      };\n    },\n\n    watch: {\n      value: function value(val, oldVal) {\n        if (this.col !== 0) {\n          if (val !== oldVal) {\n            this.data = this.store.getColumns(val);\n            this.$nextTick(function () {\n              this.render(this.data, val);\n            });\n          }\n        } else {\n          for (var i = 0; i < val.length; i++) {\n            if (this.scroller[i].value !== val[i]) {\n              this.scroller[i].select(val[i]);\n            }\n          }\n        }\n      },\n      data: function data(newData) {\n        var _this3 = this;\n\n        if (Object.prototype.toString.call(newData[0]) === '[object Array]') {\n          this.$nextTick(function () {\n            _this3.render(newData, _this3.value);\n\n            _this3.$nextTick(function () {\n              _vm2.default.$emit('on-change', _this3.getValue());\n            });\n          });\n        } else {\n          if (this.col !== 0) {\n            var length = this.col;\n            this.store = new _chain2.default(newData, length);\n            this.data = this.store.getColumns(this.value);\n          }\n        }\n      }\n    },\n    beforeDestroy: function beforeDestroy() {\n      for (var i = 0; i < this.count; i++) {\n        this.scroller[i].destroy();\n        this.scroller[i] = null;\n      }\n    }\n  };\n})();\nif (module.exports.__esModule) module.exports = module.exports.default;\nvar __vue__options__ = typeof module.exports === \"function\" ? module.exports.options : module.exports;\nif (__vue__options__.functional) {\n  console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\");\n}\n__vue__options__.render = function render() {\n  var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"cmui-picker\" }, [_c('div', { staticClass: \"flex-container\" }, _vm._l(_vm.data, function (one, index) {\n    return _c('div', { staticClass: \"flex1\" }, [_c('div', { staticClass: \"cmui-picker-item\", attrs: { \"id\": 'cmui-picker-' + _vm.uuid + '-' + index } })]);\n  }))]);\n};\n__vue__options__.staticRenderFns = [];\nif (module.hot) {\n  (function () {\n    var hotAPI = require(\"vue-hot-reload-api\");\n    hotAPI.install(require(\"vue\"), true);\n    if (!hotAPI.compatible) return;\n    module.hot.accept();\n    module.hot.dispose(__vueify_style_dispose__);\n    if (!module.hot.data) {\n      hotAPI.createRecord(\"data-v-2e768776\", __vue__options__);\n    } else {\n      hotAPI.reload(\"data-v-2e768776\", __vue__options__);\n    }\n  })();\n}","css":"@import './scroller.css';"},"hash":"03f1d0eda05e124a22e36c25b66b14ee"}