{"dependencies":[{"name":"../../vm.js","loc":{"line":8,"column":18}},{"name":"vue-hot-reload-api","loc":{"line":116,"column":54}},{"name":"vue","loc":{"line":117,"column":25}}],"generated":{"js":"\"use strict\";\n\n;(function () {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _vm = require('../../vm.js');\n\n  var _vm2 = _interopRequireDefault(_vm);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n  }\n\n  function getScroll(target, top) {\n    var prop = top ? 'pageYOffset' : 'pageXOffset';\n    var method = top ? 'scrollTop' : 'scrollLeft';\n    var ret = target[prop];\n    if (typeof ret !== 'number') {\n      ret = window.document.documentElement[method];\n    }\n    return ret;\n  }\n  function getOffset(element) {\n    var rect = element.getBoundingClientRect();\n    var scrollTop = getScroll(window, true);\n    var scrollLeft = getScroll(window);\n    var docEl = window.document.body;\n    var clientTop = docEl.clientTop || 0;\n    var clientLeft = docEl.clientLeft || 0;\n    return {\n      top: rect.top + scrollTop - clientTop,\n      left: rect.left + scrollLeft - clientLeft\n    };\n  }\n  exports.default = {\n    props: {\n      top: {\n        type: Number,\n        default: 0\n      },\n      bottom: {\n        type: Number\n      }\n    },\n    data: function data() {\n      return {\n        affix: false,\n        styles: {}\n      };\n    },\n\n    computed: {\n      offsetType: function offsetType() {\n        var type = 'top';\n        if (this.bottom >= 0) {\n          type = 'bottom';\n        }\n        return type;\n      }\n    },\n    mounted: function mounted() {\n      window.addEventListener('scroll', this.handleScroll, false);\n      window.addEventListener('resize', this.handleScroll, false);\n    },\n    beforeDestroy: function beforeDestroy() {\n      window.removeEventListener('scroll', this.handleScroll, false);\n      window.removeEventListener('resize', this.handleScroll, false);\n    },\n\n    methods: {\n      handleScroll: function handleScroll() {\n        var affix = this.affix;\n        var scrollTop = getScroll(window, true);\n        var elOffset = getOffset(this.$el);\n        var windowHeight = window.innerHeight;\n        var elHeight = this.$el.getElementsByTagName('div')[0].offsetHeight;\n\n        if (elOffset.top - this.top < scrollTop && this.offsetType == 'top' && !affix) {\n          this.affix = true;\n          this.styles = {\n            top: this.top + 'px',\n            left: elOffset.left + 'px',\n            width: this.$el.offsetWidth + 'px',\n            position: 'fixed'\n          };\n          _vm2.default.$emit('on-change', true);\n        } else if (elOffset.top - this.top > scrollTop && this.offsetType == 'top' && affix) {\n          this.affix = false;\n          this.styles = null;\n          _vm2.default.$emit('on-change', false);\n        }\n\n        if (elOffset.top + this.bottom + elHeight > scrollTop + windowHeight && this.offsetType == 'bottom' && !affix) {\n          this.affix = true;\n          this.styles = {\n            bottom: this.bottom + 'px',\n            left: elOffset.left + 'px',\n            width: this.$el.offsetWidth + 'px',\n            position: 'fixed'\n          };\n          _vm2.default.$emit('on-change', true);\n        } else if (elOffset.top + this.bottom + elHeight < scrollTop + windowHeight && this.offsetType == 'bottom' && affix) {\n          this.affix = false;\n          this.styles = null;\n          _vm2.default.$emit('on-change', false);\n        }\n      }\n    }\n  };\n})();\nif (module.exports.__esModule) module.exports = module.exports.default;\nvar __vue__options__ = typeof module.exports === \"function\" ? module.exports.options : module.exports;\nif (__vue__options__.functional) {\n  console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\");\n}\n__vue__options__.render = function render() {\n  var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', [_c('div', { staticClass: \"cmui-affix\", style: _vm.styles }, [_vm._t(\"default\")], 2)]);\n};\n__vue__options__.staticRenderFns = [];\nif (module.hot) {\n  (function () {\n    var hotAPI = require(\"vue-hot-reload-api\");\n    hotAPI.install(require(\"vue\"), true);\n    if (!hotAPI.compatible) return;\n    module.hot.accept();\n    if (!module.hot.data) {\n      hotAPI.createRecord(\"data-v-753b0a67\", __vue__options__);\n    } else {\n      hotAPI.reload(\"data-v-753b0a67\", __vue__options__);\n    }\n  })();\n}","css":""},"hash":"37f0fd0c64284e8a2ff5e251aa51b62f"}